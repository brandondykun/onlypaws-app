# editProfile.yaml

# Test editing a profile from profile screen

appId: com.bdykun.onlypawsapp.dev
# name: Edit Profile Flow

---
- launchApp

# Navigate to profile screen
- tapOn: "Profile, tab, 5 of 5"

# Assert correct initial state
- assertVisible: "Linus"
- scrollUntilVisible:
    element: "Admin profile."
    direction: DOWN

# Open profile menu
- tapOn:
    id: "view-profile-options-button"

# Open edit profile menu - wait for menu to open
- tapOn:
    id: edit-profile-button

# Edit name input
- tapOn: Linus

# Wait for input to focus (this was giving errors)
- waitForAnimationToEnd:
    timeout: 5000
- eraseText
- inputText: "New name"
- tapOn: Name # close keyboard

# Select pet type from dropdown
- tapOn: Select a pet type.*
- tapOn: Dog

# Edit breed
- tapOn: "ex: Golden Retriever"
- inputText: "New Breed"

# Edit about
- tapOn: "Admin profile."
- eraseText
- inputText: "New About"

# Hide keyboard
- tapOn:
    point: 50%,20%

# Submit changes
- tapOn: "Submit"

# Assert that the profile is updated
- assertVisible: "New name"
- assertVisible: .*New Breed.*
- assertVisible: "New About"
- assertVisible: .*Dog.*
